{"remainingRequest":"/Users/jihongyu/Desktop/baby/vue/ypiao_vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jihongyu/Desktop/baby/vue/ypiao_vue/src/components/banner/banner.vue?vue&type=style&index=0&id=57b22c0f&scoped=true&lang=css&","dependencies":[{"path":"/Users/jihongyu/Desktop/baby/vue/ypiao_vue/src/components/banner/banner.vue","mtime":1566801689947},{"path":"/Users/jihongyu/Desktop/baby/vue/ypiao_vue/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/jihongyu/Desktop/baby/vue/ypiao_vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/jihongyu/Desktop/baby/vue/ypiao_vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/jihongyu/Desktop/baby/vue/ypiao_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jihongyu/Desktop/baby/vue/ypiao_vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#slider {\n  width: 100%;\n  margin-bottom: 10px;\n  background-color: #fff;\n}\n#slider .window .container{\n  \n  height:300px;\n}\n  \n",{"version":3,"sources":["banner.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"banner.vue","sourceRoot":"src/components/banner","sourcesContent":["<template>\n  <div id=\"slider\">\n    <div class=\"window w\" @mouseover=\"stop\" @mouseleave=\"play\">\n\n      <ul class=\"container\" :style=\"containerStyle\">\n        <li>\n          <img :src=\"sliders[sliders.length - 1].img\" alt=\"\">\n        </li>\n        <li v-for=\"(item, index) in sliders\" :key=\"index\">\n          <img :src=\"item.img\" alt=\"\">\n        </li>\n        <li>\n          <img :src=\"sliders[0].img\" alt=\"\">\n        </li>\n      </ul>\n\n\n      <ul class=\"direction\">\n        <li class=\"left\" @click=\"move(1200, 1, speed)\">\n          <svg class=\"icon\" width=\"30px\" height=\"30.00px\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#ffffff\" d=\"M481.233 904c8.189 0 16.379-3.124 22.628-9.372 12.496-12.497 12.496-32.759 0-45.256L166.488 512l337.373-337.373c12.496-12.497 12.496-32.758 0-45.255-12.498-12.497-32.758-12.497-45.256 0l-360 360c-12.496 12.497-12.496 32.758 0 45.255l360 360c6.249 6.249 14.439 9.373 22.628 9.373z\"  /></svg>          \n        </li>\n        <li class=\"right\" @click=\"move(1200, -1, speed)\">\n          <svg class=\"icon\" width=\"30px\" height=\"30.00px\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#ffffff\" d=\"M557.179 904c-8.189 0-16.379-3.124-22.628-9.372-12.496-12.497-12.496-32.759 0-45.256L871.924 512 534.551 174.627c-12.496-12.497-12.496-32.758 0-45.255 12.498-12.497 32.758-12.497 45.256 0l360 360c12.496 12.497 12.496 32.758 0 45.255l-360 360c-6.249 6.249-14.439 9.373-22.628 9.373z\"  /></svg>          \n        </li>\n      </ul>\n\n\n      <ul class=\"dots\">\n        <li v-for=\"(dot, i) in sliders\" :key=\"i\" \n        :class=\"{dotted: i === (currentIndex-1)}\"\n        @click = jump(i+1)\n        >\n        </li>\n      </ul>\n\n\n    </div>\n  </div>\n</template>\n \n<script>\nexport default {\n  name: 'slider',\n  props: {\n    initialSpeed: {\n      type: Number,\n      default: 30\n    },\n    initialInterval: {\n      type: Number,\n      default: 4\n    }\n  },\n  data () {\n    return {\n      sliders:[\n        {\n          img:'../../../public/img/index/lbt1.jpg'\n        },\n        {\n          img:'../../../public/img/index/lbt2.jpg'\n        },\n        {\n          img:'../../../public/img/index/lbt3.jpg'\n        }\n      ],\n      currentIndex:1,\n      distance:-1200,\n      transitionEnd: true,\n      speed: this.initialSpeed\n    }\n  },\n  computed:{\n    containerStyle() {\n      return {\n        transform:`translateX(${this.distance}px)`\n      }\n    },\n    interval() {\n      return this.initialInterval * 1000\n    }\n  },\n  mounted() {\n    this.init()\n  },\n  methods:{\n    init() {\n      this.play()\n      window.onblur = function() { this.stop() }.bind(this)\n      window.onfocus = function() { this.play() }.bind(this)\n    },\n    move(offset, direction, speed) {\n      if (!this.transitionEnd){return\n        this.transitionEnd = false}\n      direction === -1 ? this.currentIndex += offset/1200 : this.currentIndex -= offset/1200\n      if (this.currentIndex > 3) this.currentIndex = 1\n      if (this.currentIndex < 1) this.currentIndex = 3\n \n      const destination = this.distance + offset * direction\n      this.animate(destination, direction, speed)\n    },\n    animate(des, direc, speed) {\n      if (this.temp) { \n        window.clearInterval(this.temp)\n        this.temp = null \n      }\n      this.temp = window.setInterval(() => {\n        if ((direc === -1 && des < this.distance) || (direc === 1 && des > this.distance)) {\n          this.distance += speed * direc\n        } else {\n          this.transitionEnd = true\n          window.clearInterval(this.temp)\n          this.distance = des\n          if (des < -3000) this.distance = -1200\n          if (des > -1200) this.distance = -3000\n        }\n      }, 20)\n    },\n    jump(index) {\n      const direction = index - this.currentIndex >= 0 ? -1 : 1\n      const offset = Math.abs(index - this.currentIndex) * 1200\n      const jumpSpeed = Math.abs(index - this.currentIndex) === 0 ? this.speed : Math.abs(index - this.currentIndex) * this.speed \n      this.move(offset, direction, jumpSpeed)\n    },\n    play() {\n      if (this.timer) {\n        window.clearInterval(this.timer)\n        this.timer = null\n      }\n      this.timer = window.setInterval(() => {\n        this.move(1200, -1, this.speed)\n      }, this.interval)\n    },\n    stop() {\n      window.clearInterval(this.timer)\n      this.timer = null\n    }\n  }\n}\n</script>\n<style scoped>\n#slider {\n  width: 100%;\n  margin-bottom: 10px;\n  background-color: #fff;\n}\n#slider .window .container{\n  \n  height:300px;\n}\n  \n</style>"]}]}